# PDF ë¦¬í¬íŠ¸ ìƒì„± ê¸°ëŠ¥

## ê°œìš”

ì„¸ì…˜ ì¢…ë£Œ í›„ ìë™ìœ¼ë¡œ PDF í˜•ì‹ì˜ ì‚¬í›„ ë¦¬í¬íŠ¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.

## ê¸°ëŠ¥

### ìë™ ìƒì„±
- ì„¸ì…˜ ì¢…ë£Œ ì‹œ ìë™ìœ¼ë¡œ PDF ë¦¬í¬íŠ¸ ìƒì„±
- `.data/report` í´ë”ì— ì €ì¥
- íŒŒì¼ëª…: `habitlink_report_YYYYMMDD_HHMMSS.pdf`

### ë¦¬í¬íŠ¸ ë‚´ìš©

1. **ì„¸ì…˜ ì •ë³´**
   - ì‹œì‘ ì‹œê°
   - ì¢…ë£Œ ì‹œê°
   - ì´ ì‹œê°„
   - í™œì„±í™”ëœ ë¶„ì„ ëª¨ë“ˆ

2. **ì „ì²´ ëŒ€í™” ë‚´ìš©**
   - íƒ€ì„ìŠ¤íƒ¬í”„ë³„ ë°œí™” ë‚´ìš©
   - í™”ì êµ¬ë¶„

3. **í‚¤ì›Œë“œ ê²€ì¶œ ë¶„ì„**
   - ê²€ì¶œëœ í‚¤ì›Œë“œ í†µê³„
   - í‚¤ì›Œë“œë³„ ë¹ˆë„

4. **ë¹„ì†ì–´ ê²€ì¶œ ë¶„ì„**
   - ê²€ì¶œëœ ë¹„ì†ì–´ í†µê³„
   - ê¶Œì¥ì‚¬í•­

5. **ë°œí™” ì†ë„ ë¶„ì„**
   - í‰ê·  ë°œí™” ì†ë„ (WPM)
   - ëª©í‘œ ì†ë„ì™€ ë¹„êµ
   - ì†ë„ ë¶„í¬ (ì ì ˆ/ë¹ ë¦„/ëŠë¦¼)
   - ê¶Œì¥ì‚¬í•­

6. **ë¬¸ë²• ë¶„ì„**
   - ë¬¸ë²• ì˜¤ë¥˜ ëª©ë¡ (ìµœëŒ€ 10ê°œ)
   - ì˜¤ë¥˜ â†’ ìˆ˜ì • í˜•ì‹
   - ì„¤ëª… í¬í•¨

7. **ë§¥ë½ ë¶„ì„**
   - ë§¥ë½ ì˜¤ë¥˜ ëª©ë¡ (ìµœëŒ€ 5ê°œ)
   - ë°œí™” ë‚´ìš©ê³¼ ë¶„ì„

8. **ë§ë”ë“¬ ë¶„ì„**
   - ìœ ì°½ì„± ì ìˆ˜
   - ë°˜ë³µ, ì—°ì¥, ë§‰í˜ í†µê³„
   - ìƒì„¸ ì´ë²¤íŠ¸ ëª©ë¡
   - í‰ê°€ ë° ê¶Œì¥ì‚¬í•­

9. **ì¢…í•© ìš”ì•½**
   - ì´ ê²€ì¶œëœ ì´ìŠˆ ìˆ˜
   - ì „ì²´ í‰ê°€
   - ì¢…í•© ê¶Œì¥ì‚¬í•­

## ì‚¬ìš© ë°©ë²•

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pip install markdown2 weasyprint
```

**macOS ì¶”ê°€ ì„¤ì¹˜:**
```bash
brew install cairo pango gdk-pixbuf libffi
```

**Ubuntu/Linux:**
```bash
sudo apt-get install python3-cffi python3-brotli libpango-1.0-0 libpangoft2-1.0-0
```

### 2. ìë™ ìƒì„±

ì„¸ì…˜ì„ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œí•˜ë©´ ìë™ìœ¼ë¡œ PDFê°€ ìƒì„±ë©ë‹ˆë‹¤:

```
============================================================
ì„¸ì…˜ ì¢…ë£Œ
============================================================

ğŸ“„ PDF ë¦¬í¬íŠ¸ ìƒì„± ì¤‘...
âœ… PDF ë¦¬í¬íŠ¸ ìƒì„± ì™„ë£Œ: .data/report/habitlink_report_20251030_153045.pdf
```

### 3. ë¦¬í¬íŠ¸ í™•ì¸

ìƒì„±ëœ PDF íŒŒì¼ì€ `.data/report` í´ë”ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
open .data/report/habitlink_report_20251030_153045.pdf
```

## íŒŒì¼ êµ¬ì¡°

```
.data/
â””â”€â”€ report/
    â”œâ”€â”€ habitlink_report_20251030_153045.pdf
    â”œâ”€â”€ habitlink_report_20251030_154522.pdf
    â””â”€â”€ habitlink_report_20251030_160134.pdf
```

## PDF ìŠ¤íƒ€ì¼

- **í°íŠ¸:** Noto Sans KR (í•œê¸€ ì§€ì›)
- **ìƒ‰ìƒ:**
  - ì œëª©: íŒŒë€ìƒ‰ ê³„ì—´ (#1e40af)
  - í…ìŠ¤íŠ¸: íšŒìƒ‰ (#333)
  - ê°•ì¡°: ì§„í•œ íŒŒë€ìƒ‰
- **ë ˆì´ì•„ì›ƒ:**
  - A4 í¬ê¸°
  - ì—¬ë°±: 40px
  - ìµœëŒ€ ë„ˆë¹„: 800px
  - ì¤„ ê°„ê²©: 1.8

## ë¦¬í¬íŠ¸ ì˜ˆì‹œ

### í‘œì§€
```
# HabitLink ì„¸ì…˜ ë¶„ì„ ë¦¬í¬íŠ¸

---

## ğŸ“Š ì„¸ì…˜ ì •ë³´

**ì„¸ì…˜ ì‹œì‘:** 2025ë…„ 10ì›” 30ì¼ 15:30:45
**ì„¸ì…˜ ì¢…ë£Œ:** 2025ë…„ 10ì›” 30ì¼ 15:35:20
**ì´ ì‹œê°„:** 4ë¶„ 35ì´ˆ
**í™œì„±í™”ëœ ë¶„ì„:** keyword_detection, profanity_detection, speech_rate
```

### ë¶„ì„ ê²°ê³¼
```
## ğŸ” í‚¤ì›Œë“œ ê²€ì¶œ ë¶„ì„

**ê²€ì¶œ ëŒ€ìƒ í‚¤ì›Œë“œ:** ê·¸ë‹ˆê¹Œ, ì•½ê°„, ì´ì œ

**ì´ ê²€ì¶œ íšŸìˆ˜:** 5íšŒ

### í‚¤ì›Œë“œë³„ í†µê³„

- **ê·¸ë‹ˆê¹Œ**: 3íšŒ
- **ì•½ê°„**: 2íšŒ
```

### ì¢…í•© í‰ê°€
```
## ğŸ“ˆ ì¢…í•© ìš”ì•½

**ì´ ê²€ì¶œëœ ì´ìŠˆ:** 12ê°œ

âœ… **ì „ì²´ í‰ê°€:** ì¢‹ìŠµë‹ˆë‹¤! ì¼ë¶€ ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤.
```

## êµ¬í˜„ ì„¸ë¶€ì‚¬í•­

### ReportGenerator í´ë˜ìŠ¤

**ìœ„ì¹˜:** `src/report_generator.py`

**ì£¼ìš” ë©”ì„œë“œ:**
- `generate_report(session_data)`: PDF ìƒì„±
- `_generate_markdown(session_data)`: ë§ˆí¬ë‹¤ìš´ ìƒì„±
- `_markdown_to_html(markdown_content)`: HTML ë³€í™˜
- `_html_to_pdf(html_content, session_start)`: PDF ë³€í™˜

**ì²˜ë¦¬ íë¦„:**
```
Session Data â†’ Markdown â†’ HTML (with CSS) â†’ PDF
```

### Session í†µí•©

**ìˆ˜ì •ëœ íŒŒì¼:** `src/session.py`

**ì¶”ê°€ëœ ë³€ìˆ˜:**
- `session_start_time`: ì„¸ì…˜ ì‹œì‘ ì‹œê°
- `session_end_time`: ì„¸ì…˜ ì¢…ë£Œ ì‹œê°
- `report_generator`: ReportGenerator ì¸ìŠ¤í„´ìŠ¤

**í˜¸ì¶œ ìœ„ì¹˜:**
- `generate_summary_report()` ë©”ì„œë“œ ëë¶€ë¶„

## ì—ëŸ¬ ì²˜ë¦¬

PDF ìƒì„± ì‹¤íŒ¨ ì‹œì—ë„ ì„¸ì…˜ì€ ì •ìƒ ì¢…ë£Œë©ë‹ˆë‹¤:

```python
try:
    pdf_path = self.report_generator.generate_report(session_data)
    print(f"âœ… PDF ë¦¬í¬íŠ¸ ìƒì„± ì™„ë£Œ: {pdf_path}")
except Exception as e:
    print(f"âŒ PDF ë¦¬í¬íŠ¸ ìƒì„± ì‹¤íŒ¨: {e}")
    traceback.print_exc()
```

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 1. WeasyPrint ì„¤ì¹˜ ì˜¤ë¥˜

**macOS:**
```bash
# Cairo ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
brew install cairo pango gdk-pixbuf libffi

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (í•„ìš” ì‹œ)
export PKG_CONFIG_PATH="/opt/homebrew/lib/pkgconfig"
```

**Ubuntu/Linux:**
```bash
sudo apt-get install build-essential python3-dev python3-pip python3-setuptools python3-wheel python3-cffi libcairo2 libpango-1.0-0 libpangocairo-1.0-0 libgdk-pixbuf2.0-0 libffi-dev shared-mime-info
```

### 2. í°íŠ¸ ë¬¸ì œ

í•œê¸€ì´ ê¹¨ì§€ëŠ” ê²½ìš°:
- Google Fontsì—ì„œ Noto Sans KR ìë™ ë‹¤ìš´ë¡œë“œ
- ì¸í„°ë„· ì—°ê²° í•„ìš”
- ì˜¤í”„ë¼ì¸ ì‹œ ì‹œìŠ¤í…œ ê¸°ë³¸ í°íŠ¸ ì‚¬ìš©

### 3. Permission Denied

`.data/report` í´ë” ê¶Œí•œ í™•ì¸:
```bash
chmod 755 .data/report
```

## í–¥í›„ ê°œì„  ì‚¬í•­

- [ ] ê·¸ë˜í”„ ë° ì°¨íŠ¸ ì¶”ê°€
- [ ] í†µê³„ ì‹œê°í™”
- [ ] ì‹œê°„ë³„ ë¶„ì„ ì¶”ì´
- [ ] ì´ì „ ì„¸ì…˜ê³¼ ë¹„êµ
- [ ] ê°œì„ ë„ ì¶”ì 
- [ ] ë§ì¶¤í˜• ê¶Œì¥ì‚¬í•­

## ì°¸ê³  ìë£Œ

- [WeasyPrint Documentation](https://doc.courtbouillon.org/weasyprint/)
- [Markdown2 Documentation](https://github.com/trentm/python-markdown2)

---

**ì‘ì„±:** 2025-10-30
**ë²„ì „:** 1.0

